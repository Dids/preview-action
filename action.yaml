name: 'Uffizzi Preview'
description: 'Deploy Continuous Previews on Uffizzi'
author: 'Adam Vollrath'
branding:
  color: 'yellow'
  icon: 'upload-cloud'
inputs:
  compose-file:
    description: 'An alternate compose file'
    required: false
    default: 'docker-compose.yaml'
  hostname:
    description: 'URL to Uffizzi'
    required: false
    default: 'https://app.uffizzi.com'
  username:
    description: 'Uffizzi username'
    required: true
runs:
  using: 'docker'
  image: 'docker://uffizzi/cli:2022-03-14'
  args:
    - 'preview'
    - ${{ inputs.compose-file }}
  env:
    UFFIZZI_PASSWORD: ${{ secrets.UFFIZZI_PASSWORD }}
    UFFIZZI_HOSTNAME: ${{ inputs.hostname }}
    UFFIZZI_USER: ${{ inputs.username }}
